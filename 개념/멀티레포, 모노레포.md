## 들어가며
회사에서 레거시를 개선시켜가며 향후 프로젝트를 어떤식으로 할지에 대해서 이야기 하면서 나왔던  **소스 리포지토리를 관리하는 방법**인 멀티레포와 모노레포에 대해 정리한 글입니다.
만약 MSA환경으로 가거나 메시지큐를 사용하면 entity가 중복되는 경우 어떻게 해결할 것인가 라는 의문으로부터 나온 이야기입니다
저는 프론트에서 모노레포로 공통된 컴포넌트를 재사용하기때문에 많이사용한다는걸 처음알게 되었습니다. 

### 초기 프로젝트 구조
프로젝트 초기에는 모노리딕 시스템으로 서비스를 구현하게 된다. 프로젝트의 크기가 크지 않고, 개발자의 수도 적기 때문에 모든 것을 한곳에서 처리하는 것이 효율적이다. <br>
이 경우 시스템 자체가 쪼개어지지 않고 하나이기 때문에 리포지토리 역시 하나로 관리하게 된다.

### 프로젝트 거대화에 따른 마이크로 서비스 구성
프로젝트가 거대화되면서 모노리딕 시스템은 문제를 야기한다. 대표적으로 높은 결합도와 낮은 응집력을 예로 들 수 있다.  <br>
이를 해결하기 위해서 개발 조직은 시스템의 각 부분을 도메인 별로 분리해서 마이크로 서비스로 구성하기 시작한다.  <br>
이때 개발 조직은 쪼개진 각 서비스를 하나의 리포지토리에서 관리할지, 각자 다른 리포지토리에서 관리할지 고민하게 된다.






### 조졸두님의 이야기
```
보통 하나의 도메인 시스템을 운영할때 프로젝트 하나만으로는 해결이 안될 때가 많습니다.
이를테면 다음과 같은 경우인데요.

하나의 주문시스템을 위해 3개의 하위 프로젝트가 있는 상태입니다.
주문 어드민
주문 API
주문 배치
이 3개는 주문시스템을 이루는 프로젝트들입니다.
배포되는 서버도 다르고 다른 코드 베이스를 가지고 있는데요.
하지만 이들이 공통적으로 필요로 하는 Order Entity는 어떻게 관리해야할까요?

npm 저장소에 올려서 사용하기에는 실시간성이 떨어집니다
모든 하위 프로젝트들이 동일한 파일을 복사해서 관리하는건 유지보수가 굉장히 힘듭니다.
그래서 이런 문제를 해결하기 위해 여러 생태계에서 방법들을 고민하는데요.
대표적인 사례로 Mono Repo (Multiple Packages 혹은 Multi Module) 가 있습니다.

Mono Repo는 우리 회사 프로젝트 전체를 하나의 저장소로 올리는 것을 의미하진 않습니다.
도메인별로 Mono Repo를 유지해야 함을 의미합니다.
```


## 모노레포
프론트엔드진영에서 주로 사용되는 용어이다. 프로젝트별 레포지토리를 생성하여 만드는 멀티레포와 반대되는 방식으로, 버전 관리 시스템에서 두 개 이상의 프로젝트
코드가 동일한 저장소에 저정되는 소프트웨어 개발 전략입니다.
각 서비스를 모두 하나의 레포지토리에서 일괄 관리한다
서비스 간의 연동이 소스 단위로 이루어진다.
최상위 폴더부터 트리 구조로 서비스 폴더가 구성된다.



### 장점


### 단점


## 멀티레포란?



### 장점


### 단점


### 멀티모듈 === 모노레포???



### pnpm을 사용한 이유


https://nodejs.myeongjae.kim/
https://tech.buzzvil.com/handbook/multirepo-vs-monorepo/
